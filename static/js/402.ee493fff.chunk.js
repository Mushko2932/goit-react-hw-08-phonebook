"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[402],{8398:function(n,e,t){t.d(e,{$:function(){return r}});t(3329);var r=function(n){n.title,n.children}},3402:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var r,o,i,a,c,s,d,l,u,p,h=t(9439),x=t(2791),f=t(9434),m=t(3634),b=function(n){return n.contacts.items},g=function(n){return n.contacts.isLoading},v=function(n){return n.contacts.error},j=function(n){return n.filters},w=t(8398),Z=t(1413),y=t(5705),k=t(6727),C=t(1686),q=t.n(C),L=t(168),A=t(7686),z=(0,A.Z)(y.l0)(r||(r=(0,L.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),N=A.Z.label(o||(o=(0,L.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 340px;\n"]))),S=(0,A.Z)(y.gN)(i||(i=(0,L.Z)(["\n  border-radius: 4px;\n  border: 0;\n  height: 30px;\n"]))),T=A.Z.button(a||(a=(0,L.Z)(["\n  width: 340px;\n  height: 30px;\n  cursor: pointer;\n  background-color: grey;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 0px 2px 2px rgb(0, 0, 0);\n  &:hover {\n    background-color: aquamarine;\n    color: white;\n  }\n"]))),F=t(3329),_=k.Ry().shape({name:k.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Required"),phone:k.Z_().min(2,"Too Short!").max(13,"Too Long!").required("Required")}),E=function(){var n=(0,f.I0)(),e=(0,f.v9)(b);return(0,F.jsx)(y.J9,{initialValues:{name:"",phone:""},validationSchema:_,onSubmit:function(t,r){var o;o=(0,Z.Z)({},t),e.filter((function(n){return n.name.toLowerCase().trim()===o.name.toLowerCase().trim()})).length>0?q().Notify.warning("".concat(o.name," is already in contacts")):n((0,m.uK)(o)),r.resetForm()},children:(0,F.jsxs)(z,{children:[(0,F.jsxs)(N,{htmlFor:"name",children:["Name",(0,F.jsx)(S,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,F.jsxs)(N,{htmlFor:"phone",children:["Number",(0,F.jsx)(S,{type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,F.jsx)(T,{type:"submit",children:"Add contact"})]})})},I=t(4808),M=A.Z.label(c||(c=(0,L.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  font-size: 24px;\n  font-weight: 500;\n"]))),R=A.Z.input(s||(s=(0,L.Z)(["\n  width: 340px;\n  height: 30px;\n  border: 0;\n  border-radius: 4px;\n"]))),$=function(){var n=(0,f.v9)(j),e=(0,f.I0)();return(0,F.jsxs)(M,{children:["Find contacts by name",(0,F.jsx)(R,{type:"text",name:"filter",value:n,onChange:function(n){e((0,I.p)(n.target.value))},placeholder:"search"})]})},J=A.Z.li(d||(d=(0,L.Z)(["\n  display: flex;\n  gap: 60px;\n  align-items: center;\n  justify-content: space-between;\n"]))),K=A.Z.button(l||(l=(0,L.Z)(["\n  padding: 4px;\n  background-color: hotpink;\n  font-size: 14px;\n  min-width: 120px;\n  height: 30px;\n  border: none;\n  border-radius: 4px;\n  color: black;\n  font-weight: bold;\n  cursor: pointer;\n  box-shadow: 0px 0px 2px 2px rgb(0, 0, 0);\n  &:hover {\n    background-color: aquamarine;\n    color: white;\n  }\n"]))),B=A.Z.p(u||(u=(0,L.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n"]))),D=function(n){var e=n.id,t=n.name,r=n.number,o=(0,f.I0)();return(0,F.jsxs)(J,{children:[(0,F.jsx)(B,{children:t}),(0,F.jsx)(B,{children:r}),(0,F.jsx)(K,{type:"button",onClick:function(){return n=e,void o((0,m.GK)(n));var n},children:"Delete"})]},e)},G=A.Z.ul(p||(p=(0,L.Z)(["\n  list-style: none;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n"]))),O=function(){var n=(0,f.v9)(b),e=(0,f.v9)(j).toLowerCase(),t=n.filter((function(n){return n.name.toString().toLowerCase().includes(e)}));return(0,F.jsx)(G,{children:t.map((function(n){var e=n.id,t=n.name,r=n.phone;return(0,F.jsx)(D,{id:e,name:t,number:r},e)}))})},P=function(n){var e=n.children,t=n.oncloseModal;(0,x.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return window.addEventListener("keedown",n),function(){window.removeEventListener("keydown",n)}}),[t]);return(0,F.jsx)("div",{onClick:function(n){var e=n.target;n.currentTarget===e&&t()},children:(0,F.jsx)("div",{children:e})})},V=function(){var n=(0,f.I0)(),e=(0,f.v9)(g),t=(0,f.v9)(v),r=(0,x.useState)(!1),o=(0,h.Z)(r,2),i=o[0],a=o[1];(0,x.useEffect)((function(){n((0,m.yF)())}),[n]);var c=function(){a((function(n){return!n}))};return(0,F.jsxs)("div",{children:[(0,F.jsxs)(w.$,{children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("h2",{children:"CONTACTS"}),(0,F.jsxs)("div",{children:[(0,F.jsx)($,{}),(0,F.jsx)("button",{type:"button",onClick:c})]})]}),e&&!t&&(0,F.jsx)("b",{children:"Request in progress..."}),(0,F.jsx)(O,{})]}),i&&(0,F.jsx)(P,{children:(0,F.jsx)(w.$,{title:"Add New Contact",children:(0,F.jsx)(E,{onCloseModal:c})}),onCloseModal:c})]})}}}]);
//# sourceMappingURL=402.ee493fff.chunk.js.map